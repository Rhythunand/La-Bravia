<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Bravia | Reimagined Journey</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300&family=Inter:wght@200;300&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        luxury: {
                            gold: '#C5A059',
                            dark: '#0A0A0A',
                            paper: '#FDFDFB',
                            offWhite: '#F5F5F0',
                            stone: '#727272',
                            canvas: '#F5F2ED',
                            night: '#0F0F0F',
                            obsidian: '#141414',
                        }
                    },
                    fontFamily: {
                        display: ['Cinzel', 'serif'],
                        serif: ['Cormorant Garamond', 'serif'],
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0A0A0A;
            color: #FDFDFB;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Horizontal scroll container */
        .journey-container {
            display: flex;
            width: 400vw; /* 4 acts */
            height: 100vh;
            will-change: transform;
        }

        .act {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .act-bg {
            position: absolute;
            inset: 0;
            object-fit: cover;
            opacity: 0.4;
            filter: grayscale(1);
            transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .act:hover .act-bg {
            opacity: 0.6;
            filter: grayscale(0);
            transform: scale(1.05);
        }

        /* Split text for hero */
        .split-char {
            display: inline-block;
            opacity: 0;
            transform: rotateX(-90deg) translateY(50px);
        }

        /* Progress dots */
        .progress-dots {
            position: fixed;
            right: 3rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .dot.active {
            background: #C5A059;
            transform: scale(1.5);
        }

        /* Replace/add to existing .act styles: */
        .act {
            padding: 0 clamp(2rem, 8vw, 12rem);  /* Responsive side margins */
        }
        
        .act > div[style*="position: relative"] {
            width: 100%;
            max-width: 1400px;  /* Prevent ultra-wide stretch */
            margin: 0 auto;
        }
        
        /* Hero section should be narrower for elegance */
        .act[data-act="0"] > div {
            max-width: 1100px;
        }
        
        /* Form section */
        .act[data-act="3"] > div {
            max-width: 800px;
        }
        
        /* Mobile refinements */
        @media (max-width: 768px) {
            .act {
                padding: 0 1.5rem;
            }
            
            .card-inner {
                width: 92vw;
                height: auto;
                aspect-ratio: 3/4;
            }
            
            .act-title {
                font-size: clamp(2.5rem, 12vw, 4rem);
                margin-bottom: 1.5rem;
            }
        }

        /* 3D Card effect */
        .product-card {
            perspective: 1000px;
            cursor: pointer;
        }

        .card-inner {
            width: 360px;            /* ← down from 400px */
            height: 520px;           /* slightly less tall */
            margin: 0 auto;          /* center it better */
        }

        /* Replace existing .card-face styles with: */
        .card-face {
            padding: 4rem 3.5rem;  /* More vertical breathing */
        }
        
        .card-face h2 {
            font-size: 2.5rem;  /* Slightly smaller for elegance */
            line-height: 1.1;
            letter-spacing: 0.02em;  /* Tighter, more refined */
            margin-bottom: 2rem;
        }
        
        .card-face p {
            font-size: 1.1rem;
            line-height: 1.9;  /* More generous leading */
            max-width: 28ch;  /* Optical line length */
            margin: 0 auto 3rem;
        }
        
        /* Price should feel precious, not transactional */
        .card-face > div:last-child {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.08);  /* Softer divide */
        }
        
        .card-face .price {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;  /* Larger, more confident */
            font-style: italic;
            color: #C5A059;
            letter-spacing: 0.05em;
        }

        .product-card:hover .card-inner {
            transform: rotateY(5deg) rotateX(-5deg) translateZ(20px);
        }


        /* Magnetic cursor effect */
        .magnetic-area {
            position: relative;
        }

        /* Grain overlay */
        body::after {
            content: "";
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9999;
            opacity: 0.03;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar { height: 4px; }
        ::-webkit-scrollbar-track { background: #0A0A0A; }
        ::-webkit-scrollbar-thumb { background: #C5A059; }

        .act-number {
            position: absolute;
            top: 3rem;
            left: 3rem;
            font-family: 'Cinzel', serif;
            font-size: 0.65rem;
            letter-spacing: 0.5em;
            color: #C5A059;
            opacity: 0;
        }

        .act-title {
            font-size: clamp(3.5rem, 9vw, 7rem);   /* ← cap it a bit lower */
            margin-bottom: 2.5rem;
        }

        .act-description,
        .card-face p {
            max-width: 640px;      /* ← wider but not full-width */
            margin: 0 auto;        /* center better */
        }

        .act-number {
            margin-bottom: 4rem;
        }

        .journey-wrapper + * {
            min-height: 100vh;           /* makes sure the next section doesn't collapse */
            background: #0A0A0A;         /* or your dark background color */
        }

        .act[data-act="3"] {
            overscroll-behavior: contain;
            touch-action: pan-y;
        }

        :root {
            --gold-primary: #C5A059;
            --gold-emphasis: rgba(197, 160, 89, 0.9);
            --gold-subtle: rgba(197, 160, 89, 0.6);
            --gold-whisper: rgba(197, 160, 89, 0.15);
        }
        
        /* Replace scattered opacity values with variables */
        .text-luxury-gold { color: var(--gold-primary); }
        .border-luxury-gold { border-color: var(--gold-primary); }
        .hover\:text-luxury-gold:hover { color: var(--gold-emphasis); }

        .btn-primary {
            padding: 1.5rem 3.5rem;
            border: 1px solid rgba(255,255,255,0.15);
            background: transparent;
            color: white;
            font-size: 9px;
            letter-spacing: 0.4em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(8px);
        }
        
        .btn-primary:hover {
            border-color: var(--gold-primary);
            letter-spacing: 0.5em;
            transform: translateY(-2px);
        }
        
        .btn-primary:active {
            transform: translateY(0);
        }

        @media (max-width: 768px) {
            .card-inner { width: 90vw; height: 70vh; }
            .progress-dots { right: 1rem; gap: 1rem; }
        }
    </style>
</head>
<body>

    <!-- Fixed Navigation -->
    <nav style="position: fixed; top: 0; left: 0; right: 0; z-index: 99; padding: 2rem 3rem; display: flex; justify-content: space-between; align-items: center; backdrop-filter: blur(10px); background: rgba(10,10,10,0.5);">
        <a href="#" style="font-family: 'Cinzel', serif; font-size: 1.5rem; letter-spacing: 0.5em; color: #FDFDFB;">LA BRAVIA</a>
        <div style="display: flex; gap: 2rem; font-size: 0.65rem; letter-spacing: 0.3em; text-transform: uppercase;">
            <button onclick="scrollToAct(0)" style="background: none; border: none; color: rgba(255,255,255,0.6); cursor: pointer; transition: color 0.3s;">Journey</button>
            <button onclick="scrollToAct(3)" style="background: none; border: none; color: rgba(255,255,255,0.6); cursor: pointer; transition: color 0.3s;">Concierge</button>
        </div>
    </nav>

    <!-- Progress Indicator -->
    <div class="progress-dots">
        <div class="dot active" onclick="scrollToAct(0)"></div>
        <div class="dot" onclick="scrollToAct(1)"></div>
        <div class="dot" onclick="scrollToAct(2)"></div>
        <div class="dot" onclick="scrollToAct(3)"></div>
    </div>

    <!-- Horizontal Journey Container -->
    <div class="journey-wrapper" style="height: 100vh; overflow: hidden; position: relative;">
        <div class="journey-container">
            
            <!-- ACT I: Hero / Entrance -->
            <section class="act" data-act="0">
                <img src="https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=2000" class="act-bg" alt="">
                <div style="position: relative; z-index: 10; text-align: center; padding: 2rem;">
                    <div class="act-number">ACT I — THE ENTRANCE</div>
                    <div style="margin-bottom: 2rem; font-size: 0.65rem; letter-spacing: 0.8em; color: #C5A059;">OLFACTORY PORTRAIT NO. 01</div>
                    <h1 class="act-title" id="hero-title">SILENCE</h1>
                    <p class="act-description">Fragrance as a vessel for memory. Hand-poured in poetic restraint.</p>
                    <button onclick="scrollToAct(1)" style="margin-top: 3rem; padding: 1.2rem 3rem; border: 1px solid rgba(255,255,255,0.2); background: transparent; color: white; font-size: 0.65rem; letter-spacing: 0.5em; text-transform: uppercase; cursor: pointer; transition: all 0.6s; backdrop-filter: blur(5px);">
                        BEGIN JOURNEY
                    </button>
                </div>
            </section>

            <!-- ACT II: Noir Éclat -->
            <section class="act" data-act="1">
                <img src="https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=1200" class="act-bg" alt="">
                <!-- Inside Act II and Act III, replace the current <div style="position: relative; z-index: 10;"> with: -->
                <div style="position: relative; z-index: 10; height: 100%; display: flex; flex-direction: column; justify-content: center;">
                    <div class="act-number">ACT II — SHADOW</div>
                    <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
                        <div class="product-card magnetic-area">
                            <div class="card-inner">
                                <div class="card-face">
                                    <div>
                                        <div style="font-size: 0.6rem; letter-spacing: 0.5em; color: #C5A059; margin-bottom: 1rem;">ORIENTAL / SHADOW</div>
                                        <h2 style="font-family: 'Cinzel', serif; font-size: 3rem; letter-spacing: 0.05em; margin-bottom: 1.5rem;">NOIR ÉCLAT</h2>
                                        <p style="font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1.2rem; color: rgba(255,255,255,0.7); line-height: 1.8;">A dialogue between smoke and light. This composition rests on the skin like a shadow.</p>
                                    </div>
                                    <div>
                                        <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1.5rem; margin-top: 1.5rem;">
                                        <div style="font-size: 0.65rem; letter-spacing: 0.3em; color: rgba(255,255,255,0.5); margin-bottom: 0.75rem;">COMPOSITION</div>
                                        <div style="font-size: 0.85rem; color: rgba(255,255,255,0.8);">Cardamom, Oud, Vetiver</div>
                                    </div>
                                    <div style="margin-top: 1.5rem; font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; font-style: italic; color: #C5A059;">€285</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ACT III: Azure Bloom -->
            <section class="act" data-act="2">
                <img src="https://images.unsplash.com/photo-1594035910387-fea47794261f?auto=format&fit=crop&q=80&w=1200" class="act-bg" alt="">
                <div style="position: relative; z-index: 10;">
                    <div class="act-number">ACT III — ETHEREAL</div>
                    <div class="product-card magnetic-area">
                        <div class="card-inner">
                            <div class="card-face">
                                <div>
                                    <div style="font-size: 0.6rem; letter-spacing: 0.5em; color: #C5A059; margin-bottom: 1rem;">FLORAL / ETHEREAL</div>
                                    <h2 style="font-family: 'Cinzel', serif; font-size: 3rem; letter-spacing: 0.05em; margin-bottom: 1.5rem;">AZURE BLOOM</h2>
                                    <p style="font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1.2rem; color: rgba(255,255,255,0.7); line-height: 1.8;">The stillness of a Mediterranean dawn. Soft, architectural, crystalline.</p>
                                </div>
                                <div>
                                    <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1.5rem; margin-top: 1.5rem;">
                                        <div style="font-size: 0.65rem; letter-spacing: 0.3em; color: rgba(255,255,255,0.5); margin-bottom: 0.75rem;">COMPOSITION</div>
                                        <div style="font-size: 0.85rem; color: rgba(255,255,255,0.8);">Bergamot, Jasmine, Salt</div>
                                    </div>
                                    <div style="margin-top: 1.5rem; font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; font-style: italic; color: #C5A059;">€195</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ACT IV: Imperial Or + Collection Entry -->
            <section class="act relative" data-act="3" style="overflow-y: auto;">
                <div class="absolute inset-0 bg-gradient-to-br from-luxury-night to-luxury-obsidian"></div>
                
                <div class="relative z-10 min-h-full flex flex-col items-center justify-center px-8 md:px-16 py-12 md:py-20">
                    <div class="w-full max-w-4xl text-center space-y-10 md:space-y-16">
                        
                        <!-- Act label -->
                        <div class="act-number">ACT IV — FINAL PORTRAIT</div>
                        
                        <!-- Bottle image accent -->
                        <div class="mb-8 md:mb-12">
                            <img 
                                src="https://images.unsplash.com/photo-1523293182086-7651a899d37f?auto=format&fit=crop&q=80&w=600" 
                                alt="Imperial Or Bottle" 
                                class="w-48 md:w-64 mx-auto rounded-lg shadow-2xl opacity-90 object-contain mb-8 md:mb-12"
                            >
                        </div>
                        
                        <!-- Product Card -->
                        <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
                            <div class="product-card magnetic-area">
                                <div class="card-inner">
                                    <div class="card-face" style="background: rgba(10,10,10,0.85); border: 1px solid rgba(197,160,89,0.15); backdrop-filter: blur(20px);">
                                        <div>
                                            <div style="font-size: 0.6rem; letter-spacing: 0.5em; color: #C5A059; margin-bottom: 1rem;">GOURMAND / SCULPTURAL</div>
                                            <h2 style="font-family: 'Cinzel', serif; font-size: 2.8rem; letter-spacing: 0.05em; margin-bottom: 1.5rem;">IMPERIAL OR</h2>
                                            <p style="font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 1.3rem; color: rgba(255,255,255,0.75); line-height: 1.9;">
                                                Radiant warmth. The weight of gold. An enduring silhouette. A rich, enveloping scent that feels like wrapping oneself in heavy velvet.
                                            </p>
                                        </div>
                                        <div>
                                            <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1.5rem; margin-top: 2.5rem;">
                                                <div style="font-size: 0.65rem; letter-spacing: 0.3em; color: rgba(255,255,255,0.5); margin-bottom: 0.75rem;">COMPOSITION</div>
                                                <div style="font-size: 0.95rem; color: rgba(255,255,255,0.85);">
                                                    Saffron, Honey, Vanilla Orchid, Sandalwood, Amber
                                                </div>
                                            </div>
                                            <div style="margin-top: 2.5rem; font-family: 'Cormorant Garamond', serif; font-size: 2.2rem; font-style: italic; color: #C5A059;">€340</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
            
                        <!-- Big CTA button right below -->
                        <div class="pt-16 md:pt-24 pb-12">
                            <a href="collection.html" 
                               onclick="event.preventDefault(); fadeToCollection(this.href)"
                               class="inline-block ...">
                                Enter the Collection →
                            </a>
                            
                            <script>
                            function fadeToCollection(url) {
                                gsap.to('body', {
                                    opacity: 0,
                                    duration: 0.8,
                                    ease: 'power2.inOut',
                                    onComplete: () => window.location.href = url
                                });
                            }
                            
                            // On collection.html load:
                            window.addEventListener('load', () => {
                                gsap.from('body', {
                                    opacity: 0,
                                    duration: 1.2,
                                    ease: 'power2.out'
                                });
                            });
                            </script>
                        </div>
            
                        <!-- Subtle hint -->
                        <p class="text-sm md:text-base text-luxury-stone/70 italic opacity-80">
                            Discover the full anthology
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // Horizontal scroll setup
        const container = document.querySelector('.journey-container');
        const wrapper = document.querySelector('.journey-wrapper');

        gsap.to(container, {
            x: () => -(container.scrollWidth - window.innerWidth),
            ease: 'none',
            scrollTrigger: {
                trigger: wrapper,
                start: 'top top',
                end: () => `+=${container.scrollWidth - window.innerWidth}`,
                scrub: 1,
                pin: true,
                anticipatePin: 1,
                invalidateOnRefresh: true,
                pinSpacing: true
            }
        });

        // Split text animation for hero title
        const title = document.getElementById('hero-title');
        const chars = title.textContent.split('');
        title.innerHTML = chars.map(char => 
            char === ' ' ? ' ' : `<span class="split-char">${char}</span>`
        ).join('');

        // Replace the existing hero animation with:
        gsap.to('.split-char', {
            opacity: 1,
            rotateX: 0,
            y: 0,
            duration: 1.8,  // Slower
            stagger: 0.08,  // More deliberate spacing
            ease: 'power2.out',  // Gentler curve (was power3)
            delay: 0.8  // Let page settle first
        });
        
        gsap.to('.act-number', {
            opacity: 1,
            y: 0,
            duration: 1.4,
            delay: 2,  // Sequential, not rushed
            stagger: 0.3,
            ease: 'power2.out'
        });

        gsap.from(".journey-wrapper + *", {
            opacity: 0,
            y: 60,
            duration: 1.2,
            ease: "power3.out",
            scrollTrigger: {
                trigger: ".journey-wrapper",
                start: "top top",
                end: "bottom top",
                toggleActions: "play none none reverse"
            }
        });

        // Progress dots update
        ScrollTrigger.create({
            trigger: wrapper,
            start: 'top top',
            end: () => `+=${container.scrollWidth - window.innerWidth}`,
            onUpdate: (self) => {
                const progress = self.progress;
                const actIndex = Math.floor(progress * 4);
                
                document.querySelectorAll('.dot').forEach((dot, i) => {
                    dot.classList.toggle('active', i === actIndex);
                });
            }
        });

        // Scroll to act function
        function scrollToAct(index) {
            const maxScroll = container.scrollWidth - window.innerWidth;
            const target = (maxScroll / 3) * index;
        
            gsap.to(window, {
                scrollTo: { y: target, autoKill: false },
                duration: 1.5,
                ease: 'power3.inOut'
            });
        }


        // Magnetic cursor effect on cards (desktop only)
        if (window.innerWidth > 768) {
            document.querySelectorAll('.magnetic-area').forEach(area => {
                const card = area.querySelector('.card-inner');
                
                area.addEventListener('mousemove', (e) => {
                    const rect = area.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    
                    gsap.to(card, {
                        rotateY: x / 20,
                        rotateX: -y / 20,
                        transformPerspective: 1000,
                        duration: 0.5,
                        ease: 'power2.out'
                    });
                });
                
                area.addEventListener('mouseleave', () => {
                    gsap.to(card, {
                        rotateY: 0,
                        rotateX: 0,
                        duration: 0.8,
                        ease: 'elastic.out(1, 0.3)'
                    });
                });
            });
        }

        // Button hover effects
        // Replace existing button hover script with:
        document.querySelectorAll('button, a[class*="inline-block"]').forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                gsap.to(this, { 
                    scale: 1.02,  // Was 1.05, too bouncy
                    duration: 0.6,  // Slower
                    ease: 'power2.out'
                });
                // Add letter-spacing shift for luxury feel
                if (this.textContent) {
                    gsap.to(this, {
                        letterSpacing: '0.45em',  // Slight expansion
                        duration: 0.6,
                        ease: 'power2.out'
                    });
                }
            });
            btn.addEventListener('mouseleave', function() {
                gsap.to(this, { 
                    scale: 1, 
                    letterSpacing: '0.35em',  // Return to base
                    duration: 0.6,
                    ease: 'power2.out'
                });
            });
        });
    </script>
</body>
</html>
